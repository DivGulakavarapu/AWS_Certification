1. Two questions about Kinesis Client Library and resharding

2. One question about how to solve api gateway autodeployment with SAM

3. One question about EC2 instance profile

4. One question about EBS and multi container docker

5. One question about grouping messages by messageid in SQS

6. Another item not mentioned by you is VPC flow logs

7. one question about chosing Fargate over Ecs when you don't want to take care of everything yourself and you can leave it to AWS :)

8. how the user(client) can evict API gateway cache

Resharding (KCL), Evicting API cache (Default not DLB), Fargate, Glue and VPC/Security Groups (?)


ACL vs SG

Security groups are statefull - any inbound rule , applies to outbound as well (Only Allow rules)

by default all inbound deny, all outbound allow

can span across AZ

ACL are stateless -

For default ACL, all inbound and outbound rules are allowed by default - associated with all subnets in VPC by default

for Custom ACL, all inbound and outbound traffic is denied by default - not associated with any subnet

1 subnet is only associated with ACL. granular rules for ACLs, numbered rules (recommended steps of 100)

rule no. 99 takes precedence over rule no. 100 (if 99 is blocked and 100 is allowed) 99 will be executed.

Can SPAN across AZ

Ephemeral port - 1024 - 65535 should be allowed to take traffic.

if you want to BLOCK IP address then must use ACL, because security group doesnâ€™t have deny

Bastion - keep it in public subnet to allow SSH / RDP into instances into private subnets (High availability - Bation in two public subnets and also ASG - Route 53 running Health checks on those Bastion)

https://docs.aws.amazon.com/streams/latest/dev/kinesis-record-processor-scaling.html
